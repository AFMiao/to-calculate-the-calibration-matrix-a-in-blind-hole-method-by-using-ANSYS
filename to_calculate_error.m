clear
clc

% 打开写有计算结果的文件
fig_a = fopen('a.dat','r');
a = fscanf(fid_a,'%f',[20 20]);
a = a';

% 创建标准校准矩阵
a0 = [-0.00679 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
      -0.00815 -0.00714 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
      -0.00937 -0.00844 -0.00734 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
      -0.01046 -0.00960 -0.00858 -0.00739 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
      -0.01141 -0.01063 -0.00968 -0.00856 -0.00728 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
      -0.01223 -0.01152 -0.01064 -0.00960 -0.00839 -0.00701 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
      -0.01291 -0.01227 -0.01147 -0.01050 -0.00936 -0.00806 -0.00659 0 0 0 0 0 0 0 0 0 0 0 0 0;
      -0.01360 -0.01287 -0.01207 -0.01132 -0.01015 -0.00893 -0.00759 -0.00615 0 0 0 0 0 0 0 0 0 0 0 0;
      -0.01416 -0.01344 -0.01264 -0.01184 -0.01082 -0.00970 -0.00846 -0.00712 -0.00567 0 0 0 0 0 0 0 0 0 0 0;
      -0.01463 -0.01392 -0.01312 -0.01223 -0.01134 -0.01031 -0.00917 -0.00793 -0.00657 -0.00511 0 0 0 0 0 0 0 0 0 0;
      -0.01508 -0.01434 -0.01354 -0.01270 -0.01173 -0.01072 -0.00977 -0.00854 -0.00730 -0.00600 -0.00464 0 0 0 0 0 0 0 0 0;
      -0.01545 -0.01471 -0.01391 -0.01306 -0.01211 -0.01113 -0.01013 -0.00906 -0.00791 -0.00670 -0.00543 -0.00411 0 0 0 0 0 0 0 0;
      -0.01578 -0.01503 -0.01422 -0.01340 -0.01243 -0.01146 -0.01049 -0.00938 -0.00842 -0.00722 -0.00604 -0.00485 -0.00364 0 0 0 0 0 0 0;
      -0.01606 -0.01531 -0.01450 -0.01366 -0.01271 -0.01175 -0.01078 -0.00970 -0.00869 -0.00765 -0.00655 -0.00544 -0.00431 -0.00316 0 0 0 0 0 0;
      -0.01629 -0.01554 -0.01473 -0.01390 -0.01294 -0.01199 -0.01102 -0.00996 -0.00892 -0.00795 -0.00693 -0.00589 -0.00484 -0.00378 -0.00270 0 0 0 0 0;
      -0.01649 -0.01574 -0.01493 -0.01410 -0.01313 -0.01217 -0.01123 -0.01018 -0.00919 -0.00815 -0.00716 -0.00624 -0.00524 -0.00425 -0.00328 -0.00231 0 0 0 0;
      -0.01665 -0.01590 -0.01510 -0.01426 -0.01330 -0.01234 -0.01138 -0.01036 -0.00938 -0.00836 -0.00738 -0.00644 -0.00555 -0.00464 -0.00373 -0.00283 -0.00195 0 0 0;
      -0.01679 -0.01604 -0.01523 -0.01441 -0.01344 -0.01248 -0.01151 -0.01049 -0.00955 -0.00852 -0.00755 -0.00665 -0.00574 -0.00492 -0.00406 -0.00323 -0.00241 -0.00162 0 0;
      -0.01692 -0.01617 -0.01536 -0.01452 -0.01357 -0.01261 -0.01164 -0.01063 -0.00967 -0.00866 -0.00770 -0.00679 -0.00592 -0.00508 -0.00432 -0.00353 -0.00277 -0.00203 -0.00131 0;
      -0.01704 -0.01628 -0.01548 -0.01465 -0.01368 -0.01272 -0.01176 -0.01074 -0.00978 -0.00877 -0.00781 -0.00690 -0.00605 -0.00521 -0.00448 -0.00374 -0.00303 -0.00234 -0.00167 -0.00103;
      ];
a0 = a0 * (2.565/2) * (2.565/2);

% 计算误差
errors = (a - a0)./a0;

% 创建一个名为errors.dat的文件, 将计算结果写入
TEMP = errors';
fid_errors = fopen('errors.dat','w');
fprintf(fid_errors,'%d %d %d %d %d %d %d %d %d %d %d %d %d %d %d %d %d %d %d %d\n',TEMP);
fclose(fid_errors);  % 关闭errors.dat文件
  